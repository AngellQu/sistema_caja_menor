<app-app-operation (add)="isVisible = $event"></app-app-operation>
<div *ngIf="isVisible" class="form">
    <h3 style="color: black">Registrar Retiro</h3>

    <p-floatLabel [style]="{'margin-top': '25px'}">
        <input pInputText id="nombre" [formControl]="idRetirante" [style]="{ width: '250px' }" />
        <label style="color: black" for="nombre">Id Retirante</label>
    </p-floatLabel>
    <div *ngIf="idRetirante.invalid && (idRetirante.dirty || idRetirante.touched)">
        <small *ngIf="idRetirante.errors?.['required']">El Id retirante es obligatorio.</small>
        <small *ngIf="idRetirante.errors?.['pattern']">El Id retirante debe contener solo números.</small>
    </div>

    <p-floatLabel [style]="{'margin-top': '25px'}">
        <input pInputText id="cantidad" [formControl]="descripcion" [style]="{ width: '250px' }" />
        <label style="color: black" for="cantidad">Descripción</label>
    </p-floatLabel>
    <div *ngIf="descripcion.invalid && (descripcion.dirty || descripcion.touched)">
        <small *ngIf="descripcion.errors?.['required']">La descripción obligatoria.</small>
        <small *ngIf="descripcion.errors?.['pattern']">La descripción debe ser alfabética.</small>
    </div>

    <p-floatLabel [style]="{'margin-top': '25px'}">
        <input pInputText id="idHuesped" [formControl]="monto" [style]="{ width: '250px' }" />
        <label style="color: black" for="idHuesped">Monto</label>
    </p-floatLabel>
    <div *ngIf="monto.invalid && (monto.dirty || monto.touched)">
        <small *ngIf="monto.errors?.['required']">El monto es obligatorio.</small>
        <small *ngIf="monto.errors?.['pattern']">El monto debe ser numérico.</small>
    </div>

    <div style="margin-top: 35px">
        <p-button (onClick)="cancelRecord()" [text]="true" label="Cancelar" [rounded]="true"
            [style]="{'color': 'black', 'font-size': '10px', 'margin-left': '60px'}"></p-button>
        <p-button label="Guardar" icon="pi pi-save" [rounded]="true"
            [style]="{'background-color': 'limegreen','border-color':'limegreen', 'color': 'black', 'font-size': '10px', 'margin-left': '10px'}"></p-button>
    </div>
</div>
<p-table [(selection)]="selectedRetiro" dataKey="idRetirante" [value]="retiro" scrollable="true"
    scrollHeight="300px" class="small-table" [style]="{
              'height':'300px',
              'width': '750px',
              'border-radius': '5px',
              'overflow': 'hidden',
              'margin-top':'20px',
              'margin-left': '230px'}">
    <ng-template pTemplate="header">
        <tr>
            <th>Acción</th>
            <th>Id Retirante</th>
            <th>Fecha</th>
            <th>Descripión<th>
            <th>Monto</th>
            <th>Id Recepcionista</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-retiro>
        <tr>
            <td style="display: flex;">
                <p-tableCheckbox [value]="retiro" [style]="{
                  'margin-right':'5px',
                  'margin-top' : '-1px'
                }" />
                <p-button icon="pi pi-pen-to-square" [text]="true" class="p-button-text" [style]="{ 
                  'color': 'orange',
                  'margin-top': '0', 
                  'border-radius': '5px', 
                  'margin-left':'5px',
                  'padding': '0px'
                   }" />
            </td>
            <td>{{retiro.idRetirante}}</td>
            <td>{{retiro.fecha}}</td>
            <td>{{retiro.descripcion}}</td>
            <td>{{retiro.monto}}</td>
            <td>{{retiro.idRecepcionista}}</td>
        </tr>
    </ng-template>
</p-table>
<p class="p1">
    <input class="box" type="checkbox" (change)="toggleSelectAll($event)" [checked]="isAllSelected()" /> Seleccionar
    todo
</p>
<p class="p2">Resultado:{{retiro.length}}</p>
