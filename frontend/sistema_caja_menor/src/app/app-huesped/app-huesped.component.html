<app-app-operation (add)=" isVisible = $event "></app-app-operation>
<div *ngIf="isVisible" class="form" style="margin-top: -50px; padding: 20px; border: 1px solid #ccc; border-radius: 8px; width: 300px;">
    <h3 style="color: black">Registrar Huésped</h3>

    <p-floatLabel [style]="{'margin-top': '10px'}">
        <input pInputText id="cedula" [formControl]="cedula" />
        <label style="color: black" for="cedula">Cédula</label>
    </p-floatLabel>
    <div *ngIf="cedula.invalid && (cedula.dirty || cedula.touched)">
        <small *ngIf="cedula.errors?.['required']">La cédula es obligatoria.</small>
        <small *ngIf="cedula.errors?.['pattern']">La cédula debe contener solo números.</small>
    </div>

    <p-floatLabel [style]="{'margin-top': '25px'}">
        <input pInputText id="nombre" [formControl]="nombre" />
        <label style="color: black" for="nombre">Nombre</label>
    </p-floatLabel>
    <div *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)">
        <small *ngIf="nombre.errors?.['required']">El nombre es obligatorio.</small>
        <small *ngIf="nombre.errors?.['pattern']">El nombre debe contener solo letras.</small>
    </div>

    <p-floatLabel [style]="{'margin-top': '25px'}">
        <input pInputText id="telefono" [formControl]="telefono" />
        <label style="color: black" for="telefono">Teléfono</label>
    </p-floatLabel>
    <div *ngIf="telefono.invalid && (telefono.dirty || telefono.touched)">
        <small *ngIf="telefono.errors?.['required']">El teléfono es obligatoria.</small>
        <small *ngIf="telefono.errors?.['pattern']">El teléfono debe ser un número.</small>
    </div>

    <div style="margin-top: 35px">
        <p-button (onClick)="cancelRecord()" [text]="true" label="Cancelar" [rounded]="true"
            [style]="{'color': 'black', 'font-size': '10px', 'margin-left': '60px'}"></p-button>
        <p-button label="Guardar" icon="pi pi-save" [rounded]="true"
            [style]="{'background-color': 'limegreen','border-color':'limegreen', 'color': 'black', 'font-size': '10px', 'margin-left': '10px'}"></p-button>
    </div>
</div>
<p-table [(selection)]="selectedHuespedes" dataKey="cedula" [value]="huespedes" scrollable="true" scrollHeight="300px"
    class="small-table" [style]="{
      'height':'300px',
      'width': '700px',
      'border-radius': '5px',
      'overflow': 'hidden',
      'margin-top':'20px',
      'margin-left': '280px'}">
    <ng-template pTemplate="header">
        <tr>
            <th>Accion</th>
            <th>Cedula</th>
            <th>Nombre</th>
            <th>Telefono</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-huesped>
        <tr>
            <td style="display: flex;">
                <p-tableCheckbox [value]="huesped" [style]="{
          'margin-right':'5px',
          'margin-top' : '-1px'
        }" />
                <p-button icon="pi pi-pen-to-square" [text]="true" class="p-button-text" [style]="{ 
          'color': 'orange',
          'margin-top': '0', 
          'border-radius': '5px', 
          'margin-left':'5px',
          'padding': '0px'
           }" />
            </td>
            <td>{{ huesped.cedula }}</td>
            <td>{{ huesped.nombre }}</td>
            <td>{{ huesped.telefono }}</td>
        </tr>
    </ng-template>
</p-table>
<p class="p1">
    <input class="box" type="checkbox" (change)="toggleSelectAll($event)" [checked]="isAllSelected()" /> Seleccionar
    todo
</p>
<p class="p2">Resultado:{{huespedes.length}}</p>